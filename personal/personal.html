<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Systems - CommandBridge</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0a1120" />
  <style>
    :root{
      --bg:#050911;
      --panel:#0a1120;
      --text:#f8fafc;
      --muted:#94a3b8;
      --accent:#3b82f6;
      --accent-bright:#60a5fa;
      --border:#1e293b;
      --radius:16px;

      /* status chips */
      --status-active-bg: rgba(34,197,94,.14);
      --status-active-bd: rgba(34,197,94,.28);
      --status-active-tx: rgba(134,239,172,.95);

      --status-paused-bg: rgba(148,163,184,.12);
      --status-paused-bd: rgba(148,163,184,.22);
      --status-paused-tx: rgba(203,213,225,.92);

      --status-new-bg: rgba(245,158,11,.14);
      --status-new-bd: rgba(245,158,11,.28);
      --status-new-tx: rgba(253,230,138,.95);
    }

    *{box-sizing:border-box; margin:0; padding:0}
    html,body{height:100%; overflow-x:hidden}

    body{
      background:
        radial-gradient(ellipse 1400px 800px at 20% -15%, rgba(59,130,246,.08), transparent 60%),
        radial-gradient(ellipse 1200px 700px at 80% 25%, rgba(96,165,250,.06), transparent 65%),
        var(--bg);
      color:var(--text);
      font:16px/1.6 -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
      -webkit-font-smoothing:antialiased;
    }

    .sidebar{
      position:fixed;
      inset:0 auto 0 0;
      width:260px;
      background:linear-gradient(180deg, rgba(10,17,32,.85), rgba(13,20,34,.90));
      backdrop-filter:blur(20px);
      border-right:1px solid var(--border);
      padding:32px 24px;
      z-index:100;
      box-shadow:4px 0 24px rgba(0,0,0,.3);
    }

    .brand{
      display:flex;
      align-items:center;
      gap:14px;
      margin-bottom:40px;
      padding-bottom:24px;
      border-bottom:1px solid rgba(59,130,246,.15);
    }

    .badge{
      width:42px;
      height:42px;
      border-radius:10px;
      background:url("../command.png") center/cover no-repeat,
                 linear-gradient(135deg, var(--accent), #2563eb);
      box-shadow:0 8px 24px rgba(59,130,246,.4), 0 0 60px rgba(59,130,246,.2);
      animation:pulse-glow 4s ease-in-out infinite;
    }

    @keyframes pulse-glow{
      0%, 100%{box-shadow:0 8px 24px rgba(59,130,246,.4), 0 0 60px rgba(59,130,246,.2)}
      50%{box-shadow:0 8px 32px rgba(59,130,246,.5), 0 0 80px rgba(59,130,246,.3)}
    }

    .brand h1{
      font-size:20px;
      font-weight:700;
      letter-spacing:.5px;
      background:linear-gradient(135deg, #60a5fa, #3b82f6);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
    }

    nav a{
      display:flex;
      align-items:center;
      gap:12px;
      padding:12px 16px;
      margin:8px 0;
      text-decoration:none;
      color:var(--muted);
      border-radius:12px;
      transition:all .25s cubic-bezier(.4,0,.2,1);
      border:1px solid transparent;
      font-weight:500;
      position:relative;
      overflow:hidden;
    }

    nav a::before{
      content:'';
      position:absolute;
      inset:0;
      background:linear-gradient(135deg, rgba(59,130,246,.1), rgba(96,165,250,.08));
      opacity:0;
      transition:opacity .25s;
    }

    nav a:hover{
      color:var(--text);
      border-color:rgba(59,130,246,.3);
      transform:translateX(4px);
    }
    nav a:hover::before{opacity:1}

    nav a.active{
      color:var(--accent-bright);
      background:linear-gradient(135deg, rgba(59,130,246,.15), rgba(96,165,250,.12));
      border-color:rgba(59,130,246,.4);
      box-shadow:0 4px 12px rgba(59,130,246,.15);
    }

    .nav-dot{
      width:6px;
      height:6px;
      border-radius:50%;
      background:currentColor;
      transition:all .25s;
    }
    nav a.active .nav-dot{
      width:8px;
      height:8px;
      box-shadow:0 0 12px currentColor;
    }

    .main{
      margin-left:260px;
      padding:40px 48px 80px;
      max-width:1400px;
    }

    .header{margin-bottom:28px;}
    .header h2{
      font-size:36px;
      font-weight:900;
      margin:0 0 12px 0;
      background:linear-gradient(135deg, #f8fafc, #cbd5e1);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
    }
    .header-note{
      color:var(--muted);
      font-size:15px;
      line-height:1.7;
      max-width:900px;
      margin-bottom:8px;
    }
    .header-note strong{color:var(--accent-bright); font-weight:900;}

    .active-filter{
      margin-top:10px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .filter-pill{
      font-size:11px;
      font-weight:900;
      letter-spacing:.08em;
      text-transform:uppercase;
      padding:8px 10px;
      border-radius:999px;
      color:rgba(248,250,252,.92);
      background:rgba(59,130,246,.10);
      border:1px solid rgba(59,130,246,.18);
      white-space:nowrap;
    }

    .controls{
      margin-top:16px;
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      align-items:center;
      border:1px solid rgba(59,130,246,.18);
      border-radius:14px;
      background:linear-gradient(145deg, rgba(15,23,42,.55), rgba(10,17,32,.7));
      padding:14px 14px;
    }
    .control{
      display:flex;
      gap:8px;
      align-items:center;
      flex-wrap:wrap;
    }
    .control label{
      font-size:11px;
      letter-spacing:1px;
      text-transform:uppercase;
      color:var(--muted);
      font-weight:900;
      padding-left:4px;
    }
    .control input{
      appearance:none;
      background:rgba(59,130,246,.08);
      border:1px solid rgba(59,130,246,.22);
      color:var(--text);
      border-radius:10px;
      padding:10px 12px;
      font-weight:800;
      outline:none;
      min-width:280px;
    }
    .chipbar{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      align-items:center;
    }
    .chip{
      font-size:11px;
      font-weight:900;
      letter-spacing:.08em;
      text-transform:uppercase;
      padding:8px 10px;
      border-radius:999px;
      color:rgba(248,250,252,.92);
      background:rgba(59,130,246,.10);
      border:1px solid rgba(59,130,246,.18);
      cursor:pointer;
      user-select:none;
      transition:all .2s;
      white-space:nowrap;
    }
    .chip:hover{
      border-color:rgba(59,130,246,.35);
      background:rgba(59,130,246,.14);
      transform:translateY(-1px);
    }
    .chip.active{
      color:var(--accent-bright);
      background:linear-gradient(135deg, rgba(59,130,246,.18), rgba(96,165,250,.14));
      border-color:rgba(59,130,246,.45);
      box-shadow:0 4px 12px rgba(59,130,246,.12);
    }

    .control button{
      border:1px solid rgba(59,130,246,.25);
      background:rgba(15,23,42,.55);
      color:var(--accent-bright);
      padding:10px 12px;
      border-radius:10px;
      font-weight:900;
      letter-spacing:.4px;
      cursor:pointer;
      transition:all .2s;
    }
    .control button:hover{
      border-color:rgba(59,130,246,.45);
      background:rgba(59,130,246,.15);
      transform:translateY(-1px);
    }

    .section{margin-top:22px;}
    .grid{display:grid; gap:20px;}

    .card{
      background:linear-gradient(145deg, rgba(15,23,42,.7), rgba(10,17,32,.8));
      border:1px solid rgba(59,130,246,.2);
      border-radius:var(--radius);
      overflow:hidden;
      transition:all .3s;
    }
    .card:hover{border-color:rgba(59,130,246,.4);}

    .card-header{
      padding:20px 24px;
      cursor:pointer;
      user-select:none;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      transition:all .2s;
    }
    .card-header:hover{background:rgba(59,130,246,.05);}

    .card-left{
      display:flex;
      flex-direction:column;
      gap:6px;
      min-width:0;
    }

    .title-row{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      min-width:0;
    }

    .card-title{
      font-size:22px;
      font-weight:900;
      background:linear-gradient(135deg, #f8fafc, #60a5fa);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
      letter-spacing:-.3px;
      line-height:1.15;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width:100%;
    }
    .card-sub{
      font-size:13px;
      color:var(--muted);
      font-weight:800;
      letter-spacing:.02em;
    }

    .tagrow{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin-top:6px;
      align-items:center;
    }
    .tag{
      font-size:11px;
      font-weight:900;
      letter-spacing:.08em;
      text-transform:uppercase;
      padding:6px 10px;
      border-radius:999px;
      color:rgba(248,250,252,.92);
      background:rgba(59,130,246,.10);
      border:1px solid rgba(59,130,246,.18);
      white-space:nowrap;
    }

    /* status chips (per-card) */
    .status{
      font-size:10px;
      font-weight:1000;
      letter-spacing:.1em;
      text-transform:uppercase;
      padding:6px 10px;
      border-radius:999px;
      white-space:nowrap;
      border:1px solid transparent;
    }
    .status-active{
      background:var(--status-active-bg);
      border-color:var(--status-active-bd);
      color:var(--status-active-tx);
    }
    .status-paused{
      background:var(--status-paused-bg);
      border-color:var(--status-paused-bd);
      color:var(--status-paused-tx);
    }
    .status-new{
      background:var(--status-new-bg);
      border-color:var(--status-new-bd);
      color:var(--status-new-tx);
    }

    .expand-icon{
      color:var(--accent-bright);
      font-size:20px;
      transition:transform .3s;
      flex:0 0 auto;
      padding-top:2px;
    }
    .card.expanded .expand-icon{transform:rotate(180deg);}

    .card-body{
      max-height:0;
      overflow:hidden;
      transition:max-height .45s ease-out;
      border-top:1px solid rgba(59,130,246,.12);
    }
    .card.expanded .card-body{max-height:2200px;}

    .content{
      padding:18px 24px 24px;
      display:grid;
      gap:14px;
    }

    .block{
      border-left:3px solid rgba(59,130,246,.35);
      padding-left:14px;
      color:var(--muted);
      font-size:14px;
      line-height:1.65;
    }
    .block strong{color:var(--accent-bright); font-weight:900;}

    .list{display:grid; gap:8px;}
    .li{
      background:rgba(59,130,246,.08);
      border:1px solid rgba(59,130,246,.15);
      padding:10px 12px;
      border-radius:12px;
      font-size:13px;
      color:rgba(248,250,252,.92);
      font-weight:800;
    }
    .li span{color:var(--muted); font-weight:900;}

    .links{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      font-size:13px;
      color:var(--muted);
    }
    .links a{
      color:var(--accent-bright);
      text-decoration:none;
      border:1px solid rgba(59,130,246,.25);
      background:rgba(15,23,42,.55);
      padding:6px 10px;
      border-radius:999px;
      transition:all .2s;
      font-weight:900;
    }
    .links a:hover{
      border-color:rgba(59,130,246,.45);
      background:rgba(59,130,246,.15);
      transform:translateY(-1px);
    }

    .gallery{
      display:grid;
      grid-template-columns:repeat(auto-fill, minmax(220px, 1fr));
      gap:12px;
      margin-top:4px;
    }
    .shot{
      border-radius:14px;
      border:1px solid rgba(59,130,246,.18);
      overflow:hidden;
      background:rgba(59,130,246,.05);
      cursor:pointer;
      transition:all .2s;
    }
    .shot:hover{
      border-color:rgba(59,130,246,.35);
      transform:translateY(-2px);
    }
    .shot img{
      width:100%;
      height:160px;
      object-fit:cover;
      display:block;
    }
    .shot-cap{
      padding:10px 10px 12px;
      color:var(--muted);
      font-size:12px;
      line-height:1.45;
      font-weight:900;
    }

    /* modal */
    .modal{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      padding:18px;
      z-index:999;
      background:rgba(2,6,23,.72);
      backdrop-filter:blur(10px);
    }
    .modal.open{display:flex;}
    .modal-card{
      width:min(980px, 100%);
      border-radius:18px;
      overflow:hidden;
      border:1px solid rgba(59,130,246,.22);
      background:linear-gradient(145deg, rgba(15,23,42,.92), rgba(10,17,32,.92));
      box-shadow:0 18px 60px rgba(0,0,0,.55);
    }
    .modal-top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:14px 16px;
      border-bottom:1px solid rgba(59,130,246,.18);
    }
    .modal-title{
      font-weight:900;
      color:var(--text);
      letter-spacing:.2px;
    }
    .modal-close{
      border:1px solid rgba(59,130,246,.25);
      background:rgba(15,23,42,.55);
      color:var(--accent-bright);
      padding:8px 10px;
      border-radius:10px;
      font-weight:900;
      cursor:pointer;
    }
    .modal-close:hover{
      border-color:rgba(59,130,246,.45);
      background:rgba(59,130,246,.15);
    }
    .modal-media{
      width:100%;
      height:520px;
      background:rgba(59,130,246,.05);
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .modal-media img{
      width:100%;
      height:100%;
      object-fit:contain;
      display:block;
      background:#000;
    }
    .modal-cap{
      padding:12px 16px 16px;
      color:var(--muted);
      font-size:13px;
      line-height:1.6;
      border-top:1px solid rgba(59,130,246,.16);
    }

    @media (max-width:1024px){
      .sidebar{width:240px}
      .main{margin-left:240px; padding:32px}
    }
    @media (max-width:768px){
      .sidebar{
        width:100%;
        position:relative;
        padding:20px;
        border-right:none;
        border-bottom:1px solid var(--border);
      }
      .main{margin-left:0; padding:20px 16px}
      .header h2{font-size:28px}
      .control input{min-width:0; width:100%}
      .modal-media{height:320px}
      .card-title{white-space:normal;}
    }
  </style>
</head>
<body>
  <aside class="sidebar">
    <div class="brand">
      <div class="badge"></div>
      <h1>CommandBridge</h1>
    </div>
    <nav>
      <a href="/index.html">
        <span class="nav-dot" aria-hidden="true"></span> Home
      </a>
      <a href="/projects/index.html">
        <span class="nav-dot" aria-hidden="true"></span> Projects
      </a>
      <a href="/music/musicProduced.html">
        <span class="nav-dot" aria-hidden="true"></span> Produced Music
      </a>
      <a href="/music/musicLikes.html">
        <span class="nav-dot" aria-hidden="true"></span> Preferred Genres
      </a>
      <a href="/personal/personal.html" class="active">
        <span class="nav-dot" aria-hidden="true"></span> Personal / Systems
      </a>
    </nav>
  </aside>

  <main class="main">
    <div class="header">
      <h2>Systems</h2>

      <!-- meta-section: replaced -->
      <p class="header-note">Default loop: observe → build a system → log outcomes → revise. <strong>If it isn’t trackable, I lose interest.</strong></p>
      <p class="header-note">This page is not exhaustive. It’s a snapshot of what I’m currently tuning.</p>

      <!-- small UX improvement: active filter indicator -->
      <div class="active-filter" aria-label="Active filter">
        <div class="filter-pill" id="activeFilterNote">All categories</div>
      </div>

      <div class="controls" aria-label="Systems filters">
        <div class="control">
          <label for="searchInput">Search</label>
          <input id="searchInput" type="text" placeholder="Search: uptime, backups, metrics, decision memo, wear items…" />
        </div>

        <div class="chipbar" id="chipBar" aria-label="Category chips">
          <div class="chip active" data-filter="all">All</div>

          <!-- existing -->
          <div class="chip" data-filter="firearms">Firearms</div>
          <div class="chip" data-filter="dogs">Dobermans</div>
          <div class="chip" data-filter="smarthome">Smart Home</div>
          <div class="chip" data-filter="vehicles">Vehicles</div>
          <div class="chip" data-filter="40k">Warhammer 40k</div>
          <div class="chip" data-filter="starwars">Star Wars</div>

          <!-- new -->
          <div class="chip" data-filter="medops">Medical Ops</div>
          <div class="chip" data-filter="homelab">Home Lab</div>
          <div class="chip" data-filter="sprints">Knowledge Sprints</div>
          <div class="chip" data-filter="finance">Finance Modeling</div>
          <div class="chip" data-filter="security">Security/Safety</div>
        </div>

        <div class="control">
          <button id="resetBtn" type="button">Reset</button>
        </div>
      </div>
    </div>

    <section class="section">
      <div class="grid" id="systemsGrid">

        <!-- Firearms -->
        <article class="card" data-cat="firearms" data-status="paused"
                 data-keywords="range log round count zero malfunctions springs optic reliability maintenance ammo">
          <div class="card-header" onclick="this.parentElement.classList.toggle('expanded')">
            <div class="card-left">
              <div class="title-row">
                <div class="card-title">Firearms / Range</div>
                <div class="status status-paused">Paused</div>
              </div>
              <div class="card-sub">Reliability, documentation, repeatability.</div>
              <div class="tagrow">
                <div class="tag">mods</div>
                <div class="tag">maintenance</div>
                <div class="tag">logs</div>
              </div>
            </div>
            <div class="expand-icon">▼</div>
          </div>
          <div class="card-body">
            <div class="content">
              <div class="block"><strong>Focus:</strong> Configuration management. A build is a state; I track changes and outcomes.</div>

              <div class="block"><strong>What I track:</strong></div>
              <div class="list">
                <div class="li">Round count <span>by firearm / by session</span></div>
                <div class="li">Malfunctions <span>type + ammo + conditions</span></div>
                <div class="li">Maintenance <span>springs, wear items, cleaning intervals</span></div>
                <div class="li">Zero / holds <span>distance, ammo lot, optic settings</span></div>
              </div>

              <div class="block"><strong>Current system:</strong> Personal range log + per-build configuration notes (mods, optics, springs, ammo).</div>

              <div class="links">
                <span>Links:</span>
                <a href="../projects/range-log.html">Range Log Project</a>
                <a href="#" onclick="return false;">Build Sheets (add)</a>
              </div>

              <div class="gallery">
                <div class="shot" data-full="../images/systems/firearms-1.jpg" data-cap="Example: build overview photo + short caption">
                  <img src="../images/systems/firearms-1.jpg" alt="Firearms system photo 1" />
                  <div class="shot-cap">Build overview (add caption)</div>
                </div>
                <div class="shot" data-full="../images/systems/firearms-2.jpg" data-cap="Example: target + notes">
                  <img src="../images/systems/firearms-2.jpg" alt="Firearms system photo 2" />
                  <div class="shot-cap">Targets / notes (add caption)</div>
                </div>
              </div>
            </div>
          </div>
        </article>

        <!-- Dobermans -->
        <article class="card" data-cat="dogs" data-status="paused"
                 data-keywords="dobermans training crate boundaries consistency plan triggers behavior">
          <div class="card-header" onclick="this.parentElement.classList.toggle('expanded')">
            <div class="card-left">
              <div class="title-row">
                <div class="card-title">Dobermans</div>
                <div class="status status-paused">Paused</div>
              </div>
              <div class="card-sub">Structure, boundaries, consistency.</div>
              <div class="tagrow">
                <div class="tag">protocols</div>
                <div class="tag">training</div>
              </div>
            </div>
            <div class="expand-icon">▼</div>
          </div>
          <div class="card-body">
            <div class="content">
              <div class="block"><strong>Focus:</strong> Repeatable rules. The point is predictable behavior, not vibes.</div>

              <div class="block"><strong>What I track:</strong></div>
              <div class="list">
                <div class="li">Training plan <span>what works / what doesn’t</span></div>
                <div class="li">Triggers <span>contexts that cause conflict</span></div>
                <div class="li">Consistency <span>rules everyone follows</span></div>
                <div class="li">Outcomes <span>what changed after interventions</span></div>
              </div>

              <div class="block"><strong>Current system:</strong> Written plan + daily routines + adjustments based on observed outcomes.</div>

              <div class="links">
                <span>Links:</span>
                <a href="#" onclick="return false;">Training Plan (add)</a>
              </div>

              <div class="gallery">
                <div class="shot" data-full="../images/systems/dogs-1.jpg" data-cap="Example: crate setup / boundary zones">
                  <img src="../images/systems/dogs-1.jpg" alt="Dobermans photo 1" />
                  <div class="shot-cap">Setup / routines (add caption)</div>
                </div>
              </div>
            </div>
          </div>
        </article>

        <!-- Smart Home -->
        <article class="card" data-cat="smarthome" data-status="paused"
                 data-keywords="home assistant zigbee zha skyconnect local control automation dashboards firmware uptime">
          <div class="card-header" onclick="this.parentElement.classList.toggle('expanded')">
            <div class="card-left">
              <div class="title-row">
                <div class="card-title">Smart Home</div>
                <div class="status status-paused">Paused</div>
              </div>
              <div class="card-sub">Local control, predictable failure modes.</div>
              <div class="tagrow">
                <div class="tag">home assistant</div>
                <div class="tag">zigbee</div>
                <div class="tag">automation</div>
              </div>
            </div>
            <div class="expand-icon">▼</div>
          </div>
          <div class="card-body">
            <div class="content">
              <div class="block"><strong>Focus:</strong> Systems that degrade gracefully. Minimal cloud dependency.</div>

              <div class="block"><strong>What I track:</strong></div>
              <div class="list">
                <div class="li">Automations inventory <span>what exists + what it depends on</span></div>
                <div class="li">Device health <span>dropouts, LQI, batteries</span></div>
                <div class="li">Firmware versions <span>stick + devices</span></div>
                <div class="li">Failure analysis <span>why it broke + fix</span></div>
              </div>

              <div class="links">
                <span>Links:</span>
                <a href="#" onclick="return false;">Dashboards (add)</a>
                <a href="#" onclick="return false;">Automation Notes (add)</a>
              </div>

              <div class="gallery">
                <div class="shot" data-full="../images/systems/ha-1.jpg" data-cap="Example: HA dashboard screenshot">
                  <img src="../images/systems/ha-1.jpg" alt="Home Assistant dashboard" />
                  <div class="shot-cap">Dashboard (add caption)</div>
                </div>
              </div>
            </div>
          </div>
        </article>

        <!-- Vehicles -->
        <article class="card" data-cat="vehicles" data-status="paused"
                 data-keywords="motorcycles corvette mods maintenance torque alignment tires oil service parts list">
          <div class="card-header" onclick="this.parentElement.classList.toggle('expanded')">
            <div class="card-left">
              <div class="title-row">
                <div class="card-title">Vehicles</div>
                <div class="status status-paused">Paused</div>
              </div>
              <div class="card-sub">Modifications as configuration management.</div>
              <div class="tagrow">
                <div class="tag">mods</div>
                <div class="tag">maintenance</div>
                <div class="tag">documentation</div>
              </div>
            </div>
            <div class="expand-icon">▼</div>
          </div>
          <div class="card-body">
            <div class="content">
              <div class="block"><strong>Focus:</strong> Before/after and versioning. A change without measurement is just a story.</div>

              <div class="block"><strong>What I track:</strong></div>
              <div class="list">
                <div class="li">Parts list <span>installed + removed + version</span></div>
                <div class="li">Service intervals <span>oil, tires, brakes, fluids</span></div>
                <div class="li">Torque/spec notes <span>so it’s repeatable</span></div>
                <div class="li">Outcomes <span>ride feel, handling, performance notes</span></div>
              </div>

              <div class="links">
                <span>Links:</span>
                <a href="#" onclick="return false;">Build Sheets (add)</a>
                <a href="#" onclick="return false;">Maintenance Log (add)</a>
              </div>

              <div class="gallery">
                <div class="shot" data-full="../images/systems/vehicle-1.jpg" data-cap="Example: car photo + mod notes">
                  <img src="../images/systems/vehicle-1.jpg" alt="Vehicle photo" />
                  <div class="shot-cap">Mods snapshot (add caption)</div>
                </div>
              </div>
            </div>
          </div>
        </article>

        <!-- Warhammer -->
        <article class="card" data-cat="40k" data-status="paused"
                 data-keywords="warhammer 40k minis painting recipe basing army list progress">
          <div class="card-header" onclick="this.parentElement.classList.toggle('expanded')">
            <div class="card-left">
              <div class="title-row">
                <div class="card-title">Warhammer 40k</div>
                <div class="status status-paused">Paused</div>
              </div>
              <div class="card-sub">Painting pipelines, recipes, progress tracking.</div>
              <div class="tagrow">
                <div class="tag">painting</div>
                <div class="tag">recipes</div>
                <div class="tag">photos</div>
              </div>
            </div>
            <div class="expand-icon">▼</div>
          </div>
          <div class="card-body">
            <div class="content">
              <div class="block"><strong>Focus:</strong> A repeatable paint process: base → shade → highlight → details → basing.</div>

              <div class="block"><strong>What I track:</strong></div>
              <div class="list">
                <div class="li">Paint recipes <span>exact colors + steps</span></div>
                <div class="li">Completion % <span>per unit / per army</span></div>
                <div class="li">Photo timeline <span>before/after progression</span></div>
              </div>

              <div class="links">
                <span>Links:</span>
                <a href="#" onclick="return false;">Army List (add)</a>
                <a href="#" onclick="return false;">Paint Recipes (add)</a>
              </div>

              <div class="gallery">
                <div class="shot" data-full="../images/systems/40k-1.jpg" data-cap="Example: finished squad">
                  <img src="../images/systems/40k-1.jpg" alt="Warhammer miniatures" />
                  <div class="shot-cap">Finished unit (add caption)</div>
                </div>
              </div>
            </div>
          </div>
        </article>

        <!-- Star Wars -->
        <article class="card" data-cat="starwars" data-status="paused"
                 data-keywords="star wars action figures collection catalog variants condition display storage">
          <div class="card-header" onclick="this.parentElement.classList.toggle('expanded')">
            <div class="card-left">
              <div class="title-row">
                <div class="card-title">Star Wars Figures</div>
                <div class="status status-paused">Paused</div>
              </div>
              <div class="card-sub">Cataloging and display systems.</div>
              <div class="tagrow">
                <div class="tag">collection</div>
                <div class="tag">catalog</div>
                <div class="tag">display</div>
              </div>
            </div>
            <div class="expand-icon">▼</div>
          </div>
          <div class="card-body">
            <div class="content">
              <div class="block"><strong>Focus:</strong> Organization and rotation. Not “owning,” but curating.</div>

              <div class="block"><strong>What I track:</strong></div>
              <div class="list">
                <div class="li">Series / variant <span>edition, wave, version</span></div>
                <div class="li">Condition <span>boxed / loose / accessories</span></div>
                <div class="li">Display plan <span>rotation and storage</span></div>
              </div>

              <div class="links">
                <span>Links:</span>
                <a href="#" onclick="return false;">Catalog (add)</a>
              </div>

              <div class="gallery">
                <div class="shot" data-full="../images/systems/sw-1.jpg" data-cap="Example: shelf photo">
                  <img src="../images/systems/sw-1.jpg" alt="Star Wars collection" />
                  <div class="shot-cap">Display (add caption)</div>
                </div>
              </div>
            </div>
          </div>
        </article>

        <!-- Medical Ops / Clinic Systems (non-PHI) -->
        <article class="card" data-cat="medops" data-status="active"
                 data-keywords="clinic systems medical ops policy workflows metrics dashboard standardization qa audit cadence">
          <div class="card-header" onclick="this.parentElement.classList.toggle('expanded')">
            <div class="card-left">
              <div class="title-row">
                <div class="card-title">Medical Ops / Clinic Systems</div>
                <div class="status status-active">Active</div>
              </div>
              <div class="card-sub">Policies, workflows, metrics. No PHI, no stories.</div>
              <div class="tagrow">
                <div class="tag">policy</div>
                <div class="tag">metrics</div>
                <div class="tag">workflows</div>
              </div>
            </div>
            <div class="expand-icon">▼</div>
          </div>
          <div class="card-body">
            <div class="content">
              <div class="block"><strong>Focus:</strong> Durable change. If it can’t be measured and repeated, it’s not a system.</div>

              <div class="block"><strong>Artifacts (public-safe):</strong></div>
              <div class="list">
                <div class="li">Policy index <span>title + purpose + revision date</span></div>
                <div class="li">Metric definitions <span>definition + cadence + target range</span></div>
                <div class="li">Workflow maps <span>handoffs, roles, failure points</span></div>
                <div class="li">Change log <span>what changed + why + expected impact</span></div>
              </div>

              <div class="block"><strong>Falsifier:</strong> If I can’t point to at least one policy/workflow/metric that persists without me.</div>

              <div class="links">
                <span>Links:</span>
                <a href="#" onclick="return false;">Metrics Glossary (add)</a>
                <a href="#" onclick="return false;">Workflow Map (add)</a>
                <a href="#" onclick="return false;">Policy Index (add)</a>
              </div>

              <div class="gallery">
                <div class="shot" data-full="../images/systems/medops-1.jpg" data-cap="Example: de-identified workflow diagram screenshot (no names, no dates, no patient details)">
                  <img src="../images/systems/medops-1.jpg" alt="Medical ops diagram" />
                  <div class="shot-cap">Workflow diagram (add)</div>
                </div>
              </div>
            </div>
          </div>
        </article>

        <!-- Home Lab / Personal Infra -->
        <article class="card" data-cat="homelab" data-status="paused"
                 data-keywords="homelab infrastructure uptime backup restore dns monitoring update policy home assistant topology zigbee">
          <div class="card-header" onclick="this.parentElement.classList.toggle('expanded')">
            <div class="card-left">
              <div class="title-row">
                <div class="card-title">Home Lab / Personal Infrastructure</div>
                <div class="status status-paused">Paused</div>
              </div>
              <div class="card-sub">Reliability, backups, and predictable failure modes.</div>
              <div class="tagrow">
                <div class="tag">uptime</div>
                <div class="tag">backups</div>
                <div class="tag">monitoring</div>
              </div>
            </div>
            <div class="expand-icon">▼</div>
          </div>
          <div class="card-body">
            <div class="content">
              <div class="block"><strong>Focus:</strong> “Works when I’m busy” engineering: backups, restore tests, controlled updates.</div>

              <div class="block"><strong>Artifacts:</strong></div>
              <div class="list">
                <div class="li">Topology map <span>LAN, host, key services</span></div>
                <div class="li">Backup plan <span>what, where, frequency, retention</span></div>
                <div class="li">Restore test log <span>date + outcome + notes</span></div>
                <div class="li">Update policy <span>window, staging, rollback triggers</span></div>
                <div class="li">Health checks <span>disk, CPU, automations, Zigbee link quality</span></div>
              </div>

              <div class="block"><strong>Alternative explanations if missing:</strong> device tinkering &gt; reliability engineering; visible dashboards &gt; invisible robustness.</div>

              <div class="links">
                <span>Links:</span>
                <a href="#" onclick="return false;">Topology (add)</a>
                <a href="#" onclick="return false;">Backup/Restore Notes (add)</a>
                <a href="#" onclick="return false;">Update Policy (add)</a>
              </div>

              <div class="gallery">
                <div class="shot" data-full="../images/systems/homelab-1.jpg" data-cap="Example: simple topology diagram screenshot">
                  <img src="../images/systems/homelab-1.jpg" alt="Home lab topology" />
                  <div class="shot-cap">Topology (add)</div>
                </div>
              </div>
            </div>
          </div>
        </article>

        <!-- Knowledge Sprints -->
        <article class="card" data-cat="sprints" data-status="paused"
                 data-keywords="knowledge sprint reading list notes decision memo models retirement planning research checklist falsifiers">
          <div class="card-header" onclick="this.parentElement.classList.toggle('expanded')">
            <div class="card-left">
              <div class="title-row">
                <div class="card-title">Knowledge Sprints</div>
                <div class="status status-paused">Paused</div>
              </div>
              <div class="card-sub">Obsessions turned into durable notes, tools, and decisions.</div>
              <div class="tagrow">
                <div class="tag">notes</div>
                <div class="tag">models</div>
                <div class="tag">memos</div>
              </div>
            </div>
            <div class="expand-icon">▼</div>
          </div>
          <div class="card-body">
            <div class="content">
              <div class="block"><strong>Focus:</strong> Consume → synthesize → produce an artifact that survives the mood.</div>

              <div class="block"><strong>Artifacts:</strong></div>
              <div class="list">
                <div class="li">Reading lists <span>scoped + finite</span></div>
                <div class="li">Annotated notes <span>what was new, what was wrong, what’s uncertain</span></div>
                <div class="li">Decision memos <span>belief → update → reasons</span></div>
                <div class="li">Mini tools <span>tables, calculators, rubrics</span></div>
              </div>

              <div class="block"><strong>Falsifier:</strong> If there are no durable notes/tools and it’s only consumption.</div>

              <div class="links">
                <span>Links:</span>
                <a href="#" onclick="return false;">Sprint Index (add)</a>
                <a href="#" onclick="return false;">Decision Memos (add)</a>
                <a href="#" onclick="return false;">Models/Sheets (add)</a>
              </div>

              <div class="gallery">
                <div class="shot" data-full="../images/systems/sprint-1.jpg" data-cap="Example: a single-page decision memo screenshot">
                  <img src="../images/systems/sprint-1.jpg" alt="Knowledge sprint memo" />
                  <div class="shot-cap">Decision memo (add)</div>
                </div>
              </div>
            </div>
          </div>
        </article>

        <!-- Personal Finance Modeling -->
        <article class="card" data-cat="finance" data-status="paused"
                 data-keywords="personal finance modeling retirement scenario assumptions monte carlo inputs outputs sensitivity social security tax roth 401k">
          <div class="card-header" onclick="this.parentElement.classList.toggle('expanded')">
            <div class="card-left">
              <div class="title-row">
                <div class="card-title">Personal Finance Modeling</div>
                <div class="status status-paused">Paused</div>
              </div>
              <div class="card-sub">Assumptions, scenarios, sensitivity. No net worth.</div>
              <div class="tagrow">
                <div class="tag">models</div>
                <div class="tag">assumptions</div>
                <div class="tag">scenarios</div>
              </div>
            </div>
            <div class="expand-icon">▼</div>
          </div>
          <div class="card-body">
            <div class="content">
              <div class="block"><strong>Focus:</strong> Model-building. Make assumptions explicit, then test which ones dominate outcomes.</div>

              <div class="block"><strong>Artifacts:</strong></div>
              <div class="list">
                <div class="li">Assumptions table <span>returns, inflation, savings rate, retirement age</span></div>
                <div class="li">Scenario set <span>baseline vs conservative vs upside</span></div>
                <div class="li">Sensitivity notes <span>what moves the needle most</span></div>
                <div class="li">Decision memo <span>what changed my mind + why</span></div>
              </div>

              <div class="block"><strong>Falsifier:</strong> If I can’t show how changing one assumption changes the conclusion, it’s narrative not modeling.</div>

              <div class="links">
                <span>Links:</span>
                <a href="#" onclick="return false;">Assumptions Table (add)</a>
                <a href="#" onclick="return false;">Scenarios (add)</a>
                <a href="#" onclick="return false;">Sensitivity Notes (add)</a>
              </div>

              <div class="gallery">
                <div class="shot" data-full="../images/systems/finance-1.jpg" data-cap="Example: assumptions table screenshot (no account balances)">
                  <img src="../images/systems/finance-1.jpg" alt="Finance assumptions table" />
                  <div class="shot-cap">Assumptions table (add)</div>
                </div>
              </div>
            </div>
          </div>
        </article>

        <!-- Security / Safety Structure -->
        <article class="card" data-cat="security" data-status="paused"
                 data-keywords="security safety checklist redundancy fire co outage plan medical kit inventory hardening routines drills backups">
          <div class="card-header" onclick="this.parentElement.classList.toggle('expanded')">
            <div class="card-left">
              <div class="title-row">
                <div class="card-title">Security / Safety Structure</div>
                <div class="status status-paused">Paused</div>
              </div>
              <div class="card-sub">Checklists, redundancy, routines. Not purchase-based.</div>
              <div class="tagrow">
                <div class="tag">checklists</div>
                <div class="tag">redundancy</div>
                <div class="tag">routines</div>
              </div>
            </div>
            <div class="expand-icon">▼</div>
          </div>
          <div class="card-body">
            <div class="content">
              <div class="block"><strong>Focus:</strong> Reduce risk via routine, not gear. Plans that can be executed under stress.</div>

              <div class="block"><strong>Artifacts:</strong></div>
              <div class="list">
                <div class="li">Home safety checklist <span>doors/windows, lighting, labeling, basics</span></div>
                <div class="li">Fire/CO plan <span>detectors, drills, extinguisher map</span></div>
                <div class="li">Power outage plan <span>failover, priorities, runbook</span></div>
                <div class="li">Medical kit inventory <span>contents + restock cadence</span></div>
              </div>

              <div class="block"><strong>Falsifier:</strong> If it’s mostly purchases with no routines/checklists/drills, it’s consumption not safety engineering.</div>

              <div class="links">
                <span>Links:</span>
                <a href="#" onclick="return false;">Safety Checklist (add)</a>
                <a href="#" onclick="return false;">Outage Runbook (add)</a>
                <a href="#" onclick="return false;">Kit Inventory (add)</a>
              </div>

              <div class="gallery">
                <div class="shot" data-full="../images/systems/security-1.jpg" data-cap="Example: one-page checklist screenshot">
                  <img src="../images/systems/security-1.jpg" alt="Security checklist" />
                  <div class="shot-cap">Checklist (add)</div>
                </div>
              </div>
            </div>
          </div>
        </article>

      </div>
    </section>
  </main>

  <!-- modal -->
  <div class="modal" id="imgModal" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-label="Image preview">
      <div class="modal-top">
        <div class="modal-title" id="modalTitle">Preview</div>
        <button class="modal-close" id="modalClose" type="button">Close</button>
      </div>
      <div class="modal-media" id="modalMedia"></div>
      <div class="modal-cap" id="modalCap">—</div>
    </div>
  </div>

  <script>
    (function(){
      const searchInput = document.getElementById('searchInput');
      const resetBtn = document.getElementById('resetBtn');
      const chips = Array.from(document.querySelectorAll('.chip'));
      const cards = Array.from(document.querySelectorAll('.card'));
      const activeFilterNote = document.getElementById('activeFilterNote');

      let activeCat = 'all';

      function norm(s){ return (s || '').toString().toLowerCase().trim(); }

      function labelForCat(cat){
        const map = {
          all: 'All categories',
          firearms: 'Firearms',
          dogs: 'Dobermans',
          smarthome: 'Smart Home',
          vehicles: 'Vehicles',
          '40k': 'Warhammer 40k',
          starwars: 'Star Wars',
          medops: 'Medical Ops',
          homelab: 'Home Lab',
          sprints: 'Knowledge Sprints',
          finance: 'Finance Modeling',
          security: 'Security/Safety'
        };
        return map[cat] || cat;
      }

      function renderActiveFilter(){
        const label = labelForCat(activeCat);
        if (activeFilterNote) activeFilterNote.textContent = label;
      }

      function setActiveChip(cat){
        activeCat = cat;
        chips.forEach(c => c.classList.toggle('active', c.dataset.filter === cat));
        applyFilters();
        renderActiveFilter();
      }

      function applyFilters(){
        const q = norm(searchInput.value);

        for (const c of cards){
          const cat = c.dataset.cat || '';
          const status = c.dataset.status || '';
          const keys = norm(c.dataset.keywords || '');
          const title = norm(c.querySelector('.card-title')?.textContent || '');
          const sub = norm(c.querySelector('.card-sub')?.textContent || '');
          const blob = [cat, status, keys, title, sub].join(' ');

          const matchCat = (activeCat === 'all') || (cat === activeCat);
          const matchQ = !q || blob.includes(q);

          c.style.display = (matchCat && matchQ) ? '' : 'none';
        }
      }

      chips.forEach(ch => ch.addEventListener('click', () => setActiveChip(ch.dataset.filter)));
      searchInput.addEventListener('input', applyFilters);
      resetBtn.addEventListener('click', () => {
        searchInput.value = '';
        setActiveChip('all');
      });

      // Image modal
      const modal = document.getElementById('imgModal');
      const modalClose = document.getElementById('modalClose');
      const modalMedia = document.getElementById('modalMedia');
      const modalCap = document.getElementById('modalCap');

      function openModal(src, cap){
        modalMedia.innerHTML = '';
        const img = document.createElement('img');
        img.src = src;
        img.alt = cap || 'Preview';
        modalMedia.appendChild(img);
        modalCap.textContent = cap || '—';
        modal.classList.add('open');
        modal.setAttribute('aria-hidden','false');
      }
      function closeModal(){
        modal.classList.remove('open');
        modal.setAttribute('aria-hidden','true');
      }

      modalClose.addEventListener('click', closeModal);
      modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
      document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && modal.classList.contains('open')) closeModal(); });

      // Bind shots
      const shots = Array.from(document.querySelectorAll('.shot'));
      shots.forEach(s => {
        s.addEventListener('click', () => openModal(s.dataset.full || '', s.dataset.cap || ''));
      });

      // status chip styling is driven by classes on markup; keep exactly one "active" if desired.
      applyFilters();
      renderActiveFilter();
    })();
  </script>
</body>
</html>
